{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport reset from './assets/css/reset.css';\nimport './assets/css/iconfont/iconfont.css';\nimport './assets/css/iconfont/iconfont.js';\nimport global_msg from './global/global.js';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nVue.prototype.$global_msg = global_msg;\nVue.config.productionTip = false;\nVue.use(ElementUI);\nVue.use(VueAxios, axios);\n\n// 挂载 axios 到原型（可选，因为你用了 VueAxios，其实可以直接用 this.axios）\nVue.prototype.$axios = axios;\n\n// ========== 关键修改：添加请求拦截器 ==========\naxios.interceptors.request.use(config => {\n  // 从 sessionStorage 获取 satoken（注意 key 是 'satoken'，全小写）\n  const token = sessionStorage.getItem('satoken');\n  if (token) {\n    // Sa-Token 默认从 Header 的 'satoken' 字段读取 token\n    config.headers['satoken'] = token;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n// ==========================================\n\n// 超时设置\naxios.defaults.timeout = 8000;\n\n// 默认 headers（注意：不要覆盖后续动态添加的 satoken！）\naxios.defaults.headers.common['Content-Type'] = 'application/json';\naxios.defaults.headers.common['Accept'] = 'application/json';\n\n// 如果后端需要 application/x-www-form-urlencoded，请按需调整\n// 但一般 JSON 更常用，尤其是 Spring Boot + @RequestBody\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');","map":{"version":3,"names":["Vue","App","router","store","axios","VueAxios","reset","global_msg","ElementUI","prototype","$global_msg","config","productionTip","use","$axios","interceptors","request","token","sessionStorage","getItem","headers","error","Promise","reject","defaults","timeout","common","render","h","$mount"],"sources":["C:/Users/80946/Desktop/JAVA/WebCloud/icloud/src/main.js"],"sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport axios from 'axios'\r\nimport VueAxios from 'vue-axios'\r\nimport reset from './assets/css/reset.css'\r\nimport './assets/css/iconfont/iconfont.css'\r\nimport './assets/css/iconfont/iconfont.js'\r\nimport global_msg from './global/global.js'\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\n\r\nVue.prototype.$global_msg = global_msg;\r\nVue.config.productionTip = false\r\nVue.use(ElementUI);\r\nVue.use(VueAxios, axios)\r\n\r\n// 挂载 axios 到原型（可选，因为你用了 VueAxios，其实可以直接用 this.axios）\r\nVue.prototype.$axios = axios;\r\n\r\n// ========== 关键修改：添加请求拦截器 ==========\r\naxios.interceptors.request.use(\r\n    config => {\r\n      // 从 sessionStorage 获取 satoken（注意 key 是 'satoken'，全小写）\r\n      const token = sessionStorage.getItem('satoken');\r\n      if (token) {\r\n        // Sa-Token 默认从 Header 的 'satoken' 字段读取 token\r\n        config.headers['satoken'] = token;\r\n      }\r\n      return config;\r\n    },\r\n    error => {\r\n      return Promise.reject(error);\r\n    }\r\n);\r\n// ==========================================\r\n\r\n// 超时设置\r\naxios.defaults.timeout = 8000;\r\n\r\n// 默认 headers（注意：不要覆盖后续动态添加的 satoken！）\r\naxios.defaults.headers.common['Content-Type'] = 'application/json';\r\naxios.defaults.headers.common['Accept'] = 'application/json';\r\n\r\n// 如果后端需要 application/x-www-form-urlencoded，请按需调整\r\n// 但一般 JSON 更常用，尤其是 Spring Boot + @RequestBody\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,WAAW;AAChC,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,OAAO,oCAAoC;AAC3C,OAAO,mCAAmC;AAC1C,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAO,sCAAsC;AAE7CR,GAAG,CAACS,SAAS,CAACC,WAAW,GAAGH,UAAU;AACtCP,GAAG,CAACW,MAAM,CAACC,aAAa,GAAG,KAAK;AAChCZ,GAAG,CAACa,GAAG,CAACL,SAAS,CAAC;AAClBR,GAAG,CAACa,GAAG,CAACR,QAAQ,EAAED,KAAK,CAAC;;AAExB;AACAJ,GAAG,CAACS,SAAS,CAACK,MAAM,GAAGV,KAAK;;AAE5B;AACAA,KAAK,CAACW,YAAY,CAACC,OAAO,CAACH,GAAG,CAC1BF,MAAM,IAAI;EACR;EACA,MAAMM,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,SAAS,CAAC;EAC/C,IAAIF,KAAK,EAAE;IACT;IACAN,MAAM,CAACS,OAAO,CAAC,SAAS,CAAC,GAAGH,KAAK;EACnC;EACA,OAAON,MAAM;AACf,CAAC,EACDU,KAAK,IAAI;EACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACJ;AACD;;AAEA;AACAjB,KAAK,CAACoB,QAAQ,CAACC,OAAO,GAAG,IAAI;;AAE7B;AACArB,KAAK,CAACoB,QAAQ,CAACJ,OAAO,CAACM,MAAM,CAAC,cAAc,CAAC,GAAG,kBAAkB;AAClEtB,KAAK,CAACoB,QAAQ,CAACJ,OAAO,CAACM,MAAM,CAAC,QAAQ,CAAC,GAAG,kBAAkB;;AAE5D;AACA;;AAEA,IAAI1B,GAAG,CAAC;EACNE,MAAM;EACNC,KAAK;EACLwB,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAAC3B,GAAG;AACpB,CAAC,CAAC,CAAC4B,MAAM,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module"}