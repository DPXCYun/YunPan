{"ast":null,"code":"export default {\n  data() {\n    return {\n      tableData: this.$global_msg.friends\n    };\n  },\n  methods: {\n    addFriend() {\n      this.$prompt('请输入邮箱', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        inputPattern: /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\n        inputErrorMessage: '邮箱格式不正确'\n      }).then(({\n        value\n      }) => {\n        var url = 'http://localhost:8081/runyun/addFriend/' + this.$global_msg.userId;\n        this.axios.post(url, value).then(resp => {\n          let data = resp.data;\n          if (data.code == 200) {\n            this.$global_msg.friends = data.data;\n            this.tableData = data.data;\n            this.$message({\n              type: 'success',\n              message: data.msg\n            });\n          } else if (data.code == 400) {\n            this.$message({\n              type: 'info',\n              message: data.msg\n            });\n          }\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消输入'\n        });\n      });\n    },\n    deleteFriend() {\n      let currentSelect = this.$refs.accountTable.selection;\n      // alert(currentSelect.length);\n      var url = 'http://localhost:8081/runyun/deleteFriends/' + this.$global_msg.userId;\n      this.axios.post(url, currentSelect).then(resp => {\n        let data = resp.data;\n        if (data.code == 200) {\n          this.$global_msg.friends = data.data;\n          this.tableData = data.data;\n          this.$message({\n            type: 'success',\n            message: data.msg\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAqCA;EACAA;IACA;MACAC;IACA;EAEA;EACAC;IACAC;MACA;QACAC;QACAC;QACAC;QACAC;MACA;QAAAC;MAAA;QACA;QACA;UACA;UACA;YACA;YACA;YACA;cACAC;cACAC;YACA;UACA;YACA;cACAD;cACAC;YACA;UACA;QACA;MACA;QACA;UACAD;UACAC;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;UACA;UACA;UACA;YACAF;YACAC;UACA;QACA;MACA;IACA;EACA;AACA","names":["data","tableData","methods","addFriend","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","value","type","message","deleteFriend"],"sourceRoot":"src/views/Usercare","sources":["Usercare.vue"],"sourcesContent":["<template>\r\n    <div class=\"box\">\r\n        <header>\r\n            <div class=\"header\">\r\n                <div>\r\n                    <i class=\"iconfont icon-dangqianhuihua\"></i>\r\n                    <span>会话</span>\r\n                </div>\r\n                <div>\r\n                    <i class=\"iconfont icon-jurassic_user\"></i>\r\n                    <span>好友</span>\r\n                </div>\r\n                <div>\r\n                    <i class=\"iconfont icon-shanchuhaoyou_huaban1\"></i>\r\n                    <span @click=\"deleteFriend\">删除好友</span>\r\n                </div>\r\n                <div>\r\n                    <i class=\"iconfont icon-tianjiahaoyou\"></i>\r\n                    <span @click=\"addFriend\">添加好友</span>\r\n                </div>\r\n                <div>\r\n                    <i class=\"iconfont icon-haoyoutixing\"></i>\r\n                    <span>好友提醒</span>\r\n                </div>\r\n            </div>\r\n        </header>\r\n        <div class=\"content\">\r\n            <el-table :data=\"tableData\" border ref=\"accountTable\">\r\n                <el-table-column type=\"selection\" width=\"100\"> </el-table-column>\r\n                <el-table-column prop=\"aUserName\" label=\"用户名\" width=\"300\"></el-table-column>\r\n                <el-table-column prop=\"email\" label=\"邮箱\" width=\"300\"></el-table-column>\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return{\r\n                tableData: this.$global_msg.friends\r\n            };\r\n            \r\n        },\r\n        methods: {\r\n          addFriend() {\r\n            this.$prompt('请输入邮箱', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            inputPattern: /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\r\n            inputErrorMessage: '邮箱格式不正确'\r\n                }).then(({ value }) => {\r\n                    var url = 'http://localhost:8081/runyun/addFriend/'+this.$global_msg.userId;\r\n                    this.axios.post(url, value).then((resp)=>{\r\n                        let data = resp.data;\r\n                        if (data.code == 200) {\r\n                            this.$global_msg.friends = data.data;\r\n                            this.tableData = data.data;\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: data.msg\r\n                            });\r\n                        }else if(data.code == 400) {\r\n                            this.$message({\r\n                                type: 'info',\r\n                                message: data.msg\r\n                            });\r\n                        }\r\n                    })\r\n                }).catch(() => {\r\n                    this.$message({\r\n                    type: 'info',\r\n                    message: '取消输入'\r\n                    });      \r\n                });\r\n            },\r\n            deleteFriend() {\r\n                let currentSelect = this.$refs.accountTable.selection;\r\n                // alert(currentSelect.length);\r\n                var url = 'http://localhost:8081/runyun/deleteFriends/'+this.$global_msg.userId;\r\n                this.axios.post(url, currentSelect).then((resp)=>{\r\n                    let data = resp.data;\r\n                    if (data.code == 200) {\r\n                        this.$global_msg.friends = data.data;\r\n                        this.tableData = data.data;\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: data.msg\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.box{\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.header{\r\n    height: 128px;\r\n    display: flex;\r\n}\r\n.header div{\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    color: #acadef;\r\n}\r\n.header div:hover{\r\n    color: #06a9ee;\r\n}\r\n.header div i{\r\n    height: 30px;\r\n    line-height: 30px;\r\n    text-align: center;\r\n    font-size: 58px;\r\n}\r\n.header div span{\r\n    font-size: 20px;\r\n    height: 30px;\r\n    line-height: 40px;\r\n    text-align: center;\r\n}\r\n.content{\r\n    margin-left: 50px;\r\n    width: 800px;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}